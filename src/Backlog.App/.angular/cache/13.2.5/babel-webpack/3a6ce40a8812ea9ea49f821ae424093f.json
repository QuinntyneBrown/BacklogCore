{"ast":null,"code":"import { BehaviorSubject, merge } from \"rxjs\";\nimport { filter, map, switchMap, takeUntil, tap } from \"rxjs/operators\";\nimport { Destroyable } from \"@core/destroyable\";\nimport { routeChanged$ } from \"@core/route-changed\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@core\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/sidenav\";\nimport * as i4 from \"../../components/sidenav/sidenav.component\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../components/navbar/navbar.component\";\n\nfunction ShellComponent_bl_navbar_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bl-navbar\", 1);\n    i0.ɵɵlistener(\"menuClick\", function ShellComponent_bl_navbar_6_Template_bl_navbar_menuClick_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.handleMenuClick();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ShellComponent extends Destroyable {\n  constructor(_breakpointService, _router, _elementRef) {\n    super();\n    this._breakpointService = _breakpointService;\n    this._router = _router;\n    this._elementRef = _elementRef;\n    this._menuClickSubject = new BehaviorSubject(true);\n    this._menuClick$ = this._menuClickSubject.asObservable();\n    this.opened$ = this._menuClick$;\n    this._side$ = this._breakpointService.isGreaterThanMedium$.pipe(filter(matches => matches), tap(_ => this._menuClickSubject.next(true)), map(_ => \"side\"));\n    this._over$ = this._breakpointService.isLessThanMedium$.pipe(filter(matches => matches), tap(_ => this._closeNavBarAndDrawer()), map(_ => \"over\"));\n    this.mode$ = merge(this._side$, this._over$);\n  }\n\n  get _matDrawerContentElement() {\n    return this._elementRef.nativeElement.querySelector(\"mat-drawer-content\");\n  }\n\n  _closeNavBarAndDrawer() {\n    this._menuClickSubject.next(false);\n  }\n\n  handleMenuClick() {\n    this._menuClickSubject.next(!this._menuClickSubject.value);\n  }\n\n  ngOnInit() {\n    routeChanged$(this._router).pipe(takeUntil(this._destroyed$), switchMap(_ => this.mode$), tap(mode => {\n      if (mode == \"over\") {\n        this._closeNavBarAndDrawer();\n      }\n\n      this._matDrawerContentElement.scrollTop = 0;\n    })).subscribe();\n  }\n\n}\n\nShellComponent.ɵfac = function ShellComponent_Factory(t) {\n  return new (t || ShellComponent)(i0.ɵɵdirectiveInject(i1.BreakpointService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nShellComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShellComponent,\n  selectors: [[\"bl-shell\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 10,\n  vars: 9,\n  consts: [[3, \"mode\", \"opened\"], [3, \"menuClick\"], [3, \"menuClick\", 4, \"ngIf\"]],\n  template: function ShellComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-drawer-container\")(1, \"mat-drawer\", 0);\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementStart(4, \"bl-sidenav\", 1);\n      i0.ɵɵlistener(\"menuClick\", function ShellComponent_Template_bl_sidenav_menuClick_4_listener() {\n        return ctx.handleMenuClick();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"mat-drawer-content\");\n      i0.ɵɵtemplate(6, ShellComponent_bl_navbar_6_Template, 1, 0, \"bl-navbar\", 2);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementStart(8, \"main\");\n      i0.ɵɵelement(9, \"router-outlet\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"mode\", i0.ɵɵpipeBind1(2, 3, ctx.mode$))(\"opened\", i0.ɵɵpipeBind1(3, 5, ctx.opened$));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(7, 7, ctx.opened$));\n    }\n  },\n  directives: [i3.MatDrawerContainer, i3.MatDrawer, i4.SidenavComponent, i3.MatDrawerContent, i5.NgIf, i6.NavbarComponent, i2.RouterOutlet],\n  pipes: [i5.AsyncPipe],\n  styles: [\"[_nghost-%COMP%] {\\n  display: grid;\\n  grid-template-rows: auto 1fr;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%] {\\n  height: 100vh;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%] {\\n  width: 90%;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%] {\\n  height: 100%;\\n  display: grid;\\n  grid-template-rows: auto 1fr;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n  display: block;\\n  box-sizing: border-box;\\n}\\n@media only screen and (min-width: 992px) {\\n  [_nghost-%COMP%] {\\n    display: block;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%] {\\n    width: 275px;\\n    display: block;\\n    border-right: 1px solid #D7D3CB;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%] {\\n    grid-template-columns: minmax(0, auto) 1fr;\\n    grid-template-rows: 1fr;\\n    position: relative;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n    display: block;\\n    position: relative;\\n    height: 100%;\\n    box-sizing: border-box;\\n    grid-column: 2;\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoZWxsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsYUFBQTtFQUNBLDRCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0FBREY7QUFHRTtFQUNFLGFBQUE7QUFESjtBQUdJO0VBQ0UsVUFBQTtBQUROO0FBSUk7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDRCQUFBO0FBRk47QUFJTTtFQUNFLGNBQUE7RUFDQSxzQkFBQTtBQUZSO0FBUUE7RUFDRTtJQUNFLGNBQUE7RUFMRjtFQU9FO0lBQ0Usc0JBQUE7RUFMSjtFQU1JO0lBQ0UsWUFBQTtJQUNBLGNBQUE7SUFDQSwrQkFBQTtFQUpOO0VBT0k7SUFDRSwwQ0FBQTtJQUNBLHVCQUFBO0lBQ0Esa0JBQUE7RUFMTjtFQU9NO0lBQ0UsY0FBQTtJQUNBLGtCQUFBO0lBQ0EsWUFBQTtJQUNBLHNCQUFBO0lBQ0EsY0FBQTtJQUNBLFdBQUE7RUFMUjtBQUNGIiwiZmlsZSI6InNoZWxsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQHVzZSBcInNyYy9zY3NzL2JyZWFrcG9pbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cclxuICBtYXQtZHJhd2VyLWNvbnRhaW5lciB7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG5cclxuICAgIG1hdC1kcmF3ZXIge1xyXG4gICAgICB3aWR0aDogOTAlO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdC1kcmF3ZXItY29udGVudCB7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmcjtcclxuXHJcbiAgICAgIG1haW4ge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogYnJlYWtwb2ludHMuJHNjcmVlbi1tZC1taW4pIHtcclxuICA6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuXHJcbiAgICBtYXQtZHJhd2VyLWNvbnRhaW5lciB7ICAgICAgXHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIG1hdC1kcmF3ZXIge1xyXG4gICAgICAgIHdpZHRoOiAyNzVweDtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjRDdEM0NCO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXQtZHJhd2VyLWNvbnRlbnQge1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogbWlubWF4KDAsIGF1dG8pIDFmcjtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAgIG1haW4ge1xyXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgZ3JpZC1jb2x1bW46IDI7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["C:/projects/Backlog/src/Backlog.App/src/app/@shared/shells/shell/shell.component.ts"],"names":["BehaviorSubject","merge","filter","map","switchMap","takeUntil","tap","Destroyable","routeChanged$","i0","i1","i2","i3","i4","i5","i6","ShellComponent_bl_navbar_6_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ShellComponent_bl_navbar_6_Template_bl_navbar_menuClick_0_listener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","handleMenuClick","ɵɵelementEnd","ShellComponent","constructor","_breakpointService","_router","_elementRef","_menuClickSubject","_menuClick$","asObservable","opened$","_side$","isGreaterThanMedium$","pipe","matches","_","next","_over$","isLessThanMedium$","_closeNavBarAndDrawer","mode$","_matDrawerContentElement","nativeElement","querySelector","value","ngOnInit","_destroyed$","mode","scrollTop","subscribe","ɵfac","ShellComponent_Factory","t","ɵɵdirectiveInject","BreakpointService","Router","ElementRef","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","ShellComponent_Template","ɵɵpipe","ShellComponent_Template_bl_sidenav_menuClick_4_listener","ɵɵtemplate","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","directives","MatDrawerContainer","MatDrawer","SidenavComponent","MatDrawerContent","NgIf","NavbarComponent","RouterOutlet","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { BehaviorSubject, merge } from \"rxjs\";\r\nimport { filter, map, switchMap, takeUntil, tap } from \"rxjs/operators\";\r\nimport { Destroyable } from \"@core/destroyable\";\r\nimport { routeChanged$ } from \"@core/route-changed\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@core\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/material/sidenav\";\r\nimport * as i4 from \"../../components/sidenav/sidenav.component\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"../../components/navbar/navbar.component\";\r\nfunction ShellComponent_bl_navbar_6_Template(rf, ctx) { if (rf & 1) {\r\n    const _r2 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"bl-navbar\", 1);\r\n    i0.ɵɵlistener(\"menuClick\", function ShellComponent_bl_navbar_6_Template_bl_navbar_menuClick_0_listener() { i0.ɵɵrestoreView(_r2); const ctx_r1 = i0.ɵɵnextContext(); return ctx_r1.handleMenuClick(); });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class ShellComponent extends Destroyable {\r\n    constructor(_breakpointService, _router, _elementRef) {\r\n        super();\r\n        this._breakpointService = _breakpointService;\r\n        this._router = _router;\r\n        this._elementRef = _elementRef;\r\n        this._menuClickSubject = new BehaviorSubject(true);\r\n        this._menuClick$ = this._menuClickSubject.asObservable();\r\n        this.opened$ = this._menuClick$;\r\n        this._side$ = this._breakpointService.isGreaterThanMedium$.pipe(filter(matches => matches), tap(_ => this._menuClickSubject.next(true)), map(_ => \"side\"));\r\n        this._over$ = this._breakpointService.isLessThanMedium$.pipe(filter(matches => matches), tap(_ => this._closeNavBarAndDrawer()), map(_ => \"over\"));\r\n        this.mode$ = merge(this._side$, this._over$);\r\n    }\r\n    get _matDrawerContentElement() {\r\n        return this._elementRef.nativeElement.querySelector(\"mat-drawer-content\");\r\n    }\r\n    _closeNavBarAndDrawer() {\r\n        this._menuClickSubject.next(false);\r\n    }\r\n    handleMenuClick() {\r\n        this._menuClickSubject.next(!this._menuClickSubject.value);\r\n    }\r\n    ngOnInit() {\r\n        routeChanged$(this._router)\r\n            .pipe(takeUntil(this._destroyed$), switchMap(_ => this.mode$), tap(mode => {\r\n            if (mode == \"over\") {\r\n                this._closeNavBarAndDrawer();\r\n            }\r\n            this._matDrawerContentElement.scrollTop = 0;\r\n        })).subscribe();\r\n    }\r\n}\r\nShellComponent.ɵfac = function ShellComponent_Factory(t) { return new (t || ShellComponent)(i0.ɵɵdirectiveInject(i1.BreakpointService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ElementRef)); };\r\nShellComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ShellComponent, selectors: [[\"bl-shell\"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 10, vars: 9, consts: [[3, \"mode\", \"opened\"], [3, \"menuClick\"], [3, \"menuClick\", 4, \"ngIf\"]], template: function ShellComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"mat-drawer-container\")(1, \"mat-drawer\", 0);\r\n        i0.ɵɵpipe(2, \"async\");\r\n        i0.ɵɵpipe(3, \"async\");\r\n        i0.ɵɵelementStart(4, \"bl-sidenav\", 1);\r\n        i0.ɵɵlistener(\"menuClick\", function ShellComponent_Template_bl_sidenav_menuClick_4_listener() { return ctx.handleMenuClick(); });\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(5, \"mat-drawer-content\");\r\n        i0.ɵɵtemplate(6, ShellComponent_bl_navbar_6_Template, 1, 0, \"bl-navbar\", 2);\r\n        i0.ɵɵpipe(7, \"async\");\r\n        i0.ɵɵelementStart(8, \"main\");\r\n        i0.ɵɵelement(9, \"router-outlet\");\r\n        i0.ɵɵelementEnd()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"mode\", i0.ɵɵpipeBind1(2, 3, ctx.mode$))(\"opened\", i0.ɵɵpipeBind1(3, 5, ctx.opened$));\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(7, 7, ctx.opened$));\r\n    } }, directives: [i3.MatDrawerContainer, i3.MatDrawer, i4.SidenavComponent, i3.MatDrawerContent, i5.NgIf, i6.NavbarComponent, i2.RouterOutlet], pipes: [i5.AsyncPipe], styles: [\"[_nghost-%COMP%] {\\n  display: grid;\\n  grid-template-rows: auto 1fr;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%] {\\n  height: 100vh;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%] {\\n  width: 90%;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%] {\\n  height: 100%;\\n  display: grid;\\n  grid-template-rows: auto 1fr;\\n}\\n[_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n  display: block;\\n  box-sizing: border-box;\\n}\\n@media only screen and (min-width: 992px) {\\n  [_nghost-%COMP%] {\\n    display: block;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%] {\\n    width: 275px;\\n    display: block;\\n    border-right: 1px solid #D7D3CB;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%] {\\n    grid-template-columns: minmax(0, auto) 1fr;\\n    grid-template-rows: 1fr;\\n    position: relative;\\n  }\\n  [_nghost-%COMP%]   mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n    display: block;\\n    position: relative;\\n    height: 100%;\\n    box-sizing: border-box;\\n    grid-column: 2;\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoZWxsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsYUFBQTtFQUNBLDRCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0FBREY7QUFHRTtFQUNFLGFBQUE7QUFESjtBQUdJO0VBQ0UsVUFBQTtBQUROO0FBSUk7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDRCQUFBO0FBRk47QUFJTTtFQUNFLGNBQUE7RUFDQSxzQkFBQTtBQUZSO0FBUUE7RUFDRTtJQUNFLGNBQUE7RUFMRjtFQU9FO0lBQ0Usc0JBQUE7RUFMSjtFQU1JO0lBQ0UsWUFBQTtJQUNBLGNBQUE7SUFDQSwrQkFBQTtFQUpOO0VBT0k7SUFDRSwwQ0FBQTtJQUNBLHVCQUFBO0lBQ0Esa0JBQUE7RUFMTjtFQU9NO0lBQ0UsY0FBQTtJQUNBLGtCQUFBO0lBQ0EsWUFBQTtJQUNBLHNCQUFBO0lBQ0EsY0FBQTtJQUNBLFdBQUE7RUFMUjtBQUNGIiwiZmlsZSI6InNoZWxsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQHVzZSBcInNyYy9zY3NzL2JyZWFrcG9pbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cclxuICBtYXQtZHJhd2VyLWNvbnRhaW5lciB7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG5cclxuICAgIG1hdC1kcmF3ZXIge1xyXG4gICAgICB3aWR0aDogOTAlO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdC1kcmF3ZXItY29udGVudCB7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmcjtcclxuXHJcbiAgICAgIG1haW4ge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogYnJlYWtwb2ludHMuJHNjcmVlbi1tZC1taW4pIHtcclxuICA6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuXHJcbiAgICBtYXQtZHJhd2VyLWNvbnRhaW5lciB7ICAgICAgXHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIG1hdC1kcmF3ZXIge1xyXG4gICAgICAgIHdpZHRoOiAyNzVweDtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjRDdEM0NCO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXQtZHJhd2VyLWNvbnRlbnQge1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogbWlubWF4KDAsIGF1dG8pIDFmcjtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAgIG1haW4ge1xyXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgZ3JpZC1jb2x1bW46IDI7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}