{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\nfunction loadScript(src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var script = document.createElement('script');\n\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  cb = cb || function () {};\n\n  script.type = opts.type || 'text/javascript';\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true;\n  script.src = src;\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs);\n  }\n\n  if (opts.text) {\n    script.text = String(opts.text);\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd;\n  onend(script, cb);\n\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script);\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd(script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null;\n    cb(null, script);\n  };\n\n  script.onerror = function () {\n    this.onerror = this.onload = null;\n    cb(new Error('Failed to load ' + this.src), script);\n  };\n}\n\nfunction ieOnEnd(script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') {\n      return;\n    }\n\n    this.onreadystatechange = null;\n    cb(null, script);\n  };\n}\n\nvar promise;\n\nfunction getEditorNamespace(editorURL, onNamespaceLoaded) {\n  if ('CKEDITOR' in window) {\n    return Promise.resolve(CKEDITOR);\n  }\n\n  if (typeof editorURL !== 'string' || editorURL.length < 1) {\n    return Promise.reject(new TypeError('CKEditor URL must be a non-empty string.'));\n  }\n\n  if (!promise) {\n    promise = getEditorNamespace.scriptLoader(editorURL).then(function (res) {\n      if (onNamespaceLoaded) {\n        onNamespaceLoaded(res);\n      }\n\n      return res;\n    });\n  }\n\n  return promise;\n}\n\ngetEditorNamespace.scriptLoader = function (editorURL) {\n  return new Promise(function (scriptResolve, scriptReject) {\n    loadScript(editorURL, function (err) {\n      promise = undefined;\n\n      if (err) {\n        return scriptReject(err);\n      } else if (!window.CKEDITOR) {\n        return scriptReject(new Error('Script loaded from editorUrl doesn\\'t provide CKEDITOR namespace.'));\n      }\n\n      scriptResolve(CKEDITOR);\n    });\n  });\n};\n\nfunction debounce(fn, delay) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var cancel;\n  return function () {\n    clearTimeout(cancel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel = setTimeout(fn.bind.apply(fn, [context].concat(args)), delay);\n  };\n}\n\nexport { debounce, getEditorNamespace };","map":{"version":3,"sources":["C:/projects/Backlog/src/Backlog.App/node_modules/ckeditor4-integrations-common/dist/index.esm.js"],"names":["loadScript","src","opts","cb","head","document","getElementsByTagName","script","createElement","type","charset","async","attrs","setAttributes","text","String","onend","stdOnEnd","ieOnEnd","onload","appendChild","attr","setAttribute","onerror","Error","onreadystatechange","readyState","promise","getEditorNamespace","editorURL","onNamespaceLoaded","window","Promise","resolve","CKEDITOR","length","reject","TypeError","scriptLoader","then","res","scriptResolve","scriptReject","err","undefined","debounce","fn","delay","context","arguments","cancel","clearTimeout","_len","args","Array","_key","setTimeout","bind","apply","concat"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\nfunction loadScript (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var script = document.createElement('script');\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  opts = opts || {};\n  cb = cb || function () {};\n  script.type = opts.type || 'text/javascript';\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true;\n  script.src = src;\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs);\n  }\n  if (opts.text) {\n    script.text = String(opts.text);\n  }\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd;\n  onend(script, cb);\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n  head.appendChild(script);\n}\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\nfunction stdOnEnd(script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null;\n    cb(null, script);\n  };\n  script.onerror = function () {\n    this.onerror = this.onload = null;\n    cb(new Error('Failed to load ' + this.src), script);\n  };\n}\nfunction ieOnEnd(script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') {\n      return;\n    }\n    this.onreadystatechange = null;\n    cb(null, script);\n  };\n}\n\nvar promise;\nfunction getEditorNamespace(editorURL, onNamespaceLoaded) {\n  if ('CKEDITOR' in window) {\n    return Promise.resolve(CKEDITOR);\n  }\n  if (typeof editorURL !== 'string' || editorURL.length < 1) {\n    return Promise.reject(new TypeError('CKEditor URL must be a non-empty string.'));\n  }\n  if (!promise) {\n    promise = getEditorNamespace.scriptLoader(editorURL).then(function (res) {\n      if (onNamespaceLoaded) {\n        onNamespaceLoaded(res);\n      }\n      return res;\n    });\n  }\n  return promise;\n}\ngetEditorNamespace.scriptLoader = function (editorURL) {\n  return new Promise(function (scriptResolve, scriptReject) {\n    loadScript(editorURL, function (err) {\n      promise = undefined;\n      if (err) {\n        return scriptReject(err);\n      } else if (!window.CKEDITOR) {\n        return scriptReject(new Error('Script loaded from editorUrl doesn\\'t provide CKEDITOR namespace.'));\n      }\n      scriptResolve(CKEDITOR);\n    });\n  });\n};\n\nfunction debounce(fn, delay) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var cancel;\n  return function () {\n    clearTimeout(cancel);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    cancel = setTimeout(fn.bind.apply(fn, [context].concat(args)), delay);\n  };\n}\n\nexport { debounce, getEditorNamespace };\n"]},"metadata":{},"sourceType":"module"}